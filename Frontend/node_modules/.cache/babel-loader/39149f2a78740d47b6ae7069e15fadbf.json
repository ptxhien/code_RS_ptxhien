{"ast":null,"code":"import axios from 'axios';\nimport { API_ENPOINT, API_ENPOINT_GATEWAY } from './../constants/constant';\nimport { history } from '../../helpers/history';\nimport { toastErrorText } from '../../helpers/toastify';\nexport var callApi = function callApi(endpoint) {\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n  var body = arguments.length > 2 ? arguments[2] : undefined;\n  var token = localStorage.getItem('token');\n  return axios({\n    method: method,\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': \"Bearer \".concat(token)\n    },\n    url: \"\".concat(API_ENPOINT, \"/\").concat(endpoint),\n    data: body\n  }).catch(function (err) {\n    console.log(err);\n\n    if (err.response && err.response.status === 401) {\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"userid\");\n      history.push('/');\n    } else {\n      return err;\n    }\n  });\n};\nexport var callApiNoAuthen = function callApiNoAuthen(endpoint) {\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n  var body = arguments.length > 2 ? arguments[2] : undefined;\n  return axios({\n    method: method,\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    url: \"\".concat(API_ENPOINT, \"/\").concat(endpoint),\n    data: body\n  }).catch(function (err) {\n    console.log(err);\n  });\n};","map":{"version":3,"sources":["/Users/phamthixuanhien/Desktop/code_RS_ptxhien/Frontend/src/redux/utils/apiCaller.js"],"names":["axios","API_ENPOINT","API_ENPOINT_GATEWAY","history","toastErrorText","callApi","endpoint","method","body","token","localStorage","getItem","headers","url","data","catch","err","console","log","response","status","removeItem","push","callApiNoAuthen"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,mBAAtB,QAAiD,yBAAjD;AACA,SAASC,OAAT,QAAwB,uBAAxB;AACA,SAASC,cAAT,QAA+B,wBAA/B;AAEA,OAAO,IAAIC,OAAO,GAAG,SAAVA,OAAU,CAAUC,QAAV,EAA0C;AAAA,MAAtBC,MAAsB,uEAAb,KAAa;AAAA,MAANC,IAAM;AAC3D,MAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AACA,SAAOX,KAAK,CAAC;AACTO,IAAAA,MAAM,EAAEA,MADC;AAETK,IAAAA,OAAO,EAAE;AACL,gBAAU,kBADL;AAEL,sBAAgB,kBAFX;AAGL,wCAA2BH,KAA3B;AAHK,KAFA;AAOTI,IAAAA,GAAG,YAAKZ,WAAL,cAAoBK,QAApB,CAPM;AAQTQ,IAAAA,IAAI,EAAEN;AARG,GAAD,CAAL,CASJO,KATI,CASE,UAAAC,GAAG,EAAI;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,QAAIA,GAAG,CAACG,QAAJ,IAAgBH,GAAG,CAACG,QAAJ,CAAaC,MAAb,KAAwB,GAA5C,EAAiD;AAC7CV,MAAAA,YAAY,CAACW,UAAb,CAAwB,OAAxB;AACAX,MAAAA,YAAY,CAACW,UAAb,CAAwB,QAAxB;AACAlB,MAAAA,OAAO,CAACmB,IAAR,CAAa,GAAb;AACH,KAJD,MAIO;AACH,aAAON,GAAP;AACH;AACJ,GAlBM,CAAP;AAmBH,CArBM;AAuBP,OAAO,IAAIO,eAAe,GAAG,SAAlBA,eAAkB,CAAUjB,QAAV,EAA0C;AAAA,MAAtBC,MAAsB,uEAAb,KAAa;AAAA,MAANC,IAAM;AACnE,SAAOR,KAAK,CAAC;AACTO,IAAAA,MAAM,EAAEA,MADC;AAETK,IAAAA,OAAO,EAAE;AACL,gBAAU,kBADL;AAEL,sBAAgB;AAFX,KAFA;AAMTC,IAAAA,GAAG,YAAKZ,WAAL,cAAoBK,QAApB,CANM;AAOTQ,IAAAA,IAAI,EAAEN;AAPG,GAAD,CAAL,CAQJO,KARI,CAQE,UAAAC,GAAG,EAAI;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,GAVM,CAAP;AAWH,CAZM","sourcesContent":["import axios from 'axios';\nimport { API_ENPOINT, API_ENPOINT_GATEWAY } from './../constants/constant';\nimport { history } from '../../helpers/history';\nimport { toastErrorText } from '../../helpers/toastify';\n\nexport var callApi = function (endpoint, method = 'GET', body) {\n    let token = localStorage.getItem('token');\n    return axios({\n        method: method,\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n        },\n        url: `${API_ENPOINT}/${endpoint}`,\n        data: body\n    }).catch(err => {\n        console.log(err)\n        if (err.response && err.response.status === 401) {\n            localStorage.removeItem(\"token\");\n            localStorage.removeItem(\"userid\");\n            history.push('/');\n        } else {\n            return err;\n        }\n    });\n};\n\nexport var callApiNoAuthen = function (endpoint, method = 'GET', body) {\n    return axios({\n        method: method,\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n        },\n        url: `${API_ENPOINT}/${endpoint}`,\n        data: body\n    }).catch(err => {\n        console.log(err)\n    });\n};\n"]},"metadata":{},"sourceType":"module"}