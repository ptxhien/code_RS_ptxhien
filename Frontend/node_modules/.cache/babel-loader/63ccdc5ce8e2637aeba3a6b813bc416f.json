{"ast":null,"code":"var _jsxFileName = \"/Users/phamthixuanhien/Desktop/ptxhien_rs_courses/Frontend/src/Components/RecommendationHandler/index.js\";\nimport React, { useRef } from \"react\";\nimport { Col, Row, FormGroup, Label, Input, Card, CardBody } from \"reactstrap\";\nimport Select from \"react-select\";\nimport makeAnimated from \"react-select/animated\";\nimport ModalFaded from \"../../Pages/Components/Modal/Examples/ModalFaded\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { toastErrorText } from \"../../helpers/toastify\";\nimport { recommendCourses } from \"../../redux/actions/courses/courses\";\n\nfunction RecommendationHandler() {\n  var _useSelector = useSelector(function (state) {\n    return state;\n  }),\n      masterdataReducer = _useSelector.masterdataReducer,\n      accountReducer = _useSelector.accountReducer;\n\n  var lsJob = masterdataReducer.lsJob;\n  var history = useHistory();\n  var dispatch = useDispatch();\n  var recommendationInfo = useRef({\n    occupation: \"\",\n    form: \"\",\n    month: \"00\",\n    typeFilter: \"progress\"\n  });\n\n  var submit = function submit() {\n    var errs = [];\n    var _recommendationInfo$c = recommendationInfo.current,\n        occupation = _recommendationInfo$c.occupation,\n        form = _recommendationInfo$c.form,\n        month = _recommendationInfo$c.month,\n        typeFilter = _recommendationInfo$c.typeFilter;\n    var email = accountReducer.user.email; // validation\n\n    if (!occupation) {\n      errs.push(\"Occupation is required\");\n    }\n\n    if (!email) {\n      history.push(\"/login\");\n      return;\n    } // fire errs message \n\n\n    if (errs.length) {\n      errs.forEach(function (err) {\n        toastErrorText(err);\n      });\n    } else {\n      // call api to RS server\n      localStorage.setItem(\"Form\", form);\n      dispatch(recommendCourses(occupation, form, month, email, typeFilter)); // history.push({\n      //   search: \"?abc=xyz\"\n      // })\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    form: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"exampleName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, \"Position Job\"), /*#__PURE__*/React.createElement(Select, {\n    components: makeAnimated(),\n    closeMenuOnSelect: false,\n    getOptionLabel: function getOptionLabel(option) {\n      return option.jobTitle;\n    } // getOptionValue={(option) => option.jobTitle}\n    ,\n    getOptionValue: function getOptionValue(option) {\n      return option.jobID;\n    },\n    options: lsJob,\n    className: \"basic-multi-select\",\n    classNamePrefix: \"select\",\n    onChange: function onChange(e) {\n      recommendationInfo.current.occupation = e.jobID;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"exampleName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, \"Type of study\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    onChange: function onChange(e) {\n      recommendationInfo.current.form = e.target.value;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, \"Choosing a study method\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"online\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, \"Online\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"offline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, \"Offline\")))), /*#__PURE__*/React.createElement(Col, {\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"exampleName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, \"Maximum study period\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    onChange: function onChange(e) {\n      recommendationInfo.current.month = e.target.value;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"00\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, \"Choose month\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"01\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, \"1 Month\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"02\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, \"2 Months\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"03\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, \"3 Months\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"04\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, \"4 Months\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"05\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, \"5 Months\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"06\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, \"6 Months\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"07\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, \"7 Months\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"08\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, \"8 Months\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"09\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, \"9 Months\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, \"10 Months\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"11\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, \"11 Months\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, \"12 Months\")))), /*#__PURE__*/React.createElement(Col, {\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"exampleName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }, \"Kind of recommendation systems\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    onChange: function onChange(e) {\n      recommendationInfo.current.typeFilter = e.target.value;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"progress\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, \"Follow the process\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }, \"Top 10 courses\")))), /*#__PURE__*/React.createElement(Col, {\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ModalFaded, {\n    submit: submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  }))))));\n}\n\nexport default RecommendationHandler;","map":{"version":3,"sources":["/Users/phamthixuanhien/Desktop/ptxhien_rs_courses/Frontend/src/Components/RecommendationHandler/index.js"],"names":["React","useRef","Col","Row","FormGroup","Label","Input","Card","CardBody","Select","makeAnimated","ModalFaded","useDispatch","useSelector","useHistory","toastErrorText","recommendCourses","RecommendationHandler","state","masterdataReducer","accountReducer","lsJob","history","dispatch","recommendationInfo","occupation","form","month","typeFilter","submit","errs","current","email","user","push","length","forEach","err","localStorage","setItem","option","jobTitle","jobID","e","target","value"],"mappings":"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","sourcesContent":["import React, { useRef } from \"react\";\nimport { Col, Row, FormGroup, Label, Input, Card, CardBody } from \"reactstrap\";\nimport Select from \"react-select\";\nimport makeAnimated from \"react-select/animated\";\nimport ModalFaded from \"../../Pages/Components/Modal/Examples/ModalFaded\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { toastErrorText } from \"../../helpers/toastify\";\nimport { recommendCourses } from \"../../redux/actions/courses/courses\";\n\n\nfunction RecommendationHandler() {\n  const { masterdataReducer, accountReducer } = useSelector((state) => state);\n  const { lsJob } = masterdataReducer;\n\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const recommendationInfo = useRef({\n    occupation: \"\",\n    form: \"\",\n    month: \"00\",\n    typeFilter: \"progress\",\n  });\n\n  const submit = () => {\n    const errs = [];\n    const { occupation, form, month, typeFilter } = recommendationInfo.current;\n    const { email } = accountReducer.user;\n    // validation\n    if (!occupation) {\n      errs.push(\"Occupation is required\");\n    }\n    if (!email) {\n      history.push(\"/login\");\n      return;\n    }\n\n    // fire errs message \n    if (errs.length) {\n      errs.forEach((err) => {\n        toastErrorText(err);\n      });\n    } else { // call api to RS server\n      localStorage.setItem(\"Form\", form);\n      dispatch(recommendCourses(occupation, form, month, email, typeFilter));\n      // history.push({\n      //   search: \"?abc=xyz\"\n      // })\n    }\n  }\n\n  return (\n    <Card>\n      <CardBody>\n        <Row form>\n          <Col md={3}>\n            <FormGroup>\n              <Label for=\"exampleName\">Position Job</Label>\n              <Select\n                components={makeAnimated()}\n                closeMenuOnSelect={false}\n                getOptionLabel={(option) => option.jobTitle}\n                // getOptionValue={(option) => option.jobTitle}\n                getOptionValue={(option) => option.jobID}\n                options={lsJob}\n                className=\"basic-multi-select\"\n                classNamePrefix=\"select\"\n                onChange={(e) => {\n                  recommendationInfo.current.occupation = e.jobID;\n                }}\n              />\n            </FormGroup>\n          </Col>\n\n          <Col md={3}>\n            <FormGroup>\n              <Label for=\"exampleName\">Type of study</Label>\n              <Input\n                type=\"select\"\n                onChange={(e) => {\n                  recommendationInfo.current.form = e.target.value;\n                }}\n              >\n                <option value={\"\"}>Choosing a study method</option>\n                <option value={\"online\"}>Online</option>\n                <option value={\"offline\"}>Offline</option>\n              </Input>\n            </FormGroup>\n          </Col>\n\n          <Col md={2}>\n            <FormGroup>\n              <Label for=\"exampleName\">Maximum study period</Label>\n              <Input\n                type=\"select\"\n                onChange={(e) => {\n                  recommendationInfo.current.month = e.target.value;\n                }}\n              >\n                <option value={\"00\"}>Choose month</option>\n                <option value={\"01\"}>1 Month</option>\n                <option value={\"02\"}>2 Months</option>\n                <option value={\"03\"}>3 Months</option>\n                <option value={\"04\"}>4 Months</option>\n                <option value={\"05\"}>5 Months</option>\n                <option value={\"06\"}>6 Months</option>\n                <option value={\"07\"}>7 Months</option>\n                <option value={\"08\"}>8 Months</option>\n                <option value={\"09\"}>9 Months</option>\n                <option value={\"10\"}>10 Months</option>\n                <option value={\"11\"}>11 Months</option>\n                <option value={\"12\"}>12 Months</option>\n              </Input>\n            </FormGroup>\n          </Col>\n\n          <Col md={2}>\n            <FormGroup>\n              <Label for=\"exampleName\">Kind of recommendation systems</Label>\n              <Input\n                type=\"select\"\n                onChange={(e) => {\n                  recommendationInfo.current.typeFilter = e.target.value;\n                }}\n              >\n                <option value={\"progress\"}>Follow the process</option>\n                <option value={\"top\"}>Top 10 courses</option>\n              </Input>\n            </FormGroup>\n          </Col>\n\n          <Col md={2}>\n            <FormGroup>\n              <ModalFaded submit={submit}></ModalFaded>\n            </FormGroup>\n          </Col>\n        </Row>\n      </CardBody>\n    </Card>\n  );\n}\n\nexport default RecommendationHandler;\n"]},"metadata":{},"sourceType":"module"}